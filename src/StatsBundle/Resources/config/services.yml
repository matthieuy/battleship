services:
    # Stats manager
    stats.manager:
        class: StatsBundle\Manager\StatsManager
        public: true
        arguments:
            - "@doctrine.orm.entity_manager"
            - "@weapon.registry"
            - "@bonus.registry"
            - "@translator"

    # Stats listener
    stats.listener:
        class: StatsBundle\EventListener\StatsListener
        arguments:
            - "@doctrine.orm.entity_manager"
        tags:
            - { name: "kernel.event_subscriber" }
